!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng2-tooltip-directive",["exports","@angular/core","@angular/common"],e):e((t=t||self)["ng2-tooltip-directive"]={},t.ng.core,t.ng.common)}(this,(function(t,e,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function i(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],i=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var n=function(){function t(t,o){this.elementRef=t,this.renderer=o,this._show=!1,this.events=new e.EventEmitter}return t.prototype.transitionEnd=function(t){this.show&&this.events.emit({type:"shown"})},Object.defineProperty(t.prototype,"show",{get:function(){return this._show},set:function(t){t&&this.setPosition(),this._show=this.hostClassShow=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placement",{get:function(){return this.data.options.placement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoPlacement",{get:function(){return this.data.options.autoPlacement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.data.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementPosition",{get:function(){return this.data.elementPosition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.data.options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.data.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipOffset",{get:function(){return Number(this.data.options.offset)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isThemeLight",{get:function(){return"light"===this.options.theme},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.setCustomClass(),this.setStyles()},t.prototype.setPosition=function(){var t,e;if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{var o=void 0;try{for(var n=i(["top","right","bottom","left"]),s=n.next();!s.done;s=n.next()){var r=s.value;if(this.setHostStyle(r))return this.setPlacementClass(r),void(o=!0)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}o||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}},t.prototype.setPlacementClass=function(t){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+t)},t.prototype.setHostStyle=function(t,e){void 0===e&&(e=!1);var o,i,n=this.element instanceof SVGElement,s=this.elementRef.nativeElement,r=!this.elementPosition.right,p=n?this.element.getBoundingClientRect().height:this.element.offsetHeight,a=n?this.element.getBoundingClientRect().width:this.element.offsetWidth,l=s.clientHeight,h=s.clientWidth,c=window.pageYOffset;if(r&&(p=0,a=0),"top"===t&&(o=this.elementPosition.top+c-(l+this.tooltipOffset)),"bottom"===t&&(o=this.elementPosition.top+c+p+this.tooltipOffset),"top"!==t&&"bottom"!==t||(i=this.elementPosition.left+a/2-h/2),"left"===t&&(i=this.elementPosition.left-h-this.tooltipOffset),"right"===t&&(i=this.elementPosition.left+a+this.tooltipOffset),"left"!==t&&"right"!==t||(o=this.elementPosition.top+c+p/2-s.clientHeight/2),this.autoPlacement&&!e){var u=o,d=o+l,y=i,f=i+h,m=window.innerHeight+c,g=document.body.clientWidth;if(u<0||d>m||y<0||f>g)return!1}return this.hostStyleTop=o+"px",this.hostStyleLeft=i+"px",!0},t.prototype.setZIndex=function(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)},t.prototype.setPointerEvents=function(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)},t.prototype.setCustomClass=function(){var t=this;this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach((function(e){t.renderer.addClass(t.elementRef.nativeElement,e)}))},t.prototype.setAnimationDuration=function(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")},t.prototype.setStyles=function(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth+"px",this.hostStyleWidth=this.options.width?this.options.width+"px":""},t}();n.decorators=[{type:e.Component,args:[{selector:"tooltip",template:'<div *ngIf="isThemeLight" class="tooltip-arrow"></div>\r\n\r\n<div *ngIf="options[\'contentType\'] === \'template\' else htmlOrStringTemplate">\r\n\r\n\t<ng-container *ngTemplateOutlet="value"></ng-container>\r\n</div>\r\n\r\n<ng-template #htmlOrStringTemplate>\r\n\t<div [innerHTML]="value"></div>\r\n</ng-template>\r\n',host:{class:"tooltip"},styles:[':host{background-color:#000;border-radius:6px;color:#fff;display:block;left:0;max-width:200px;opacity:0;padding:5px 8px;pointer-events:none;position:absolute;text-align:center;top:0;transition:opacity .3s;z-index:1000}:host.tooltip-show{opacity:1}:host.tooltip-shadow{box-shadow:0 7px 15px -5px rgba(0,0,0,.4)}:host.tooltip-light.tooltip-shadow{box-shadow:0 5px 15px -5px rgba(0,0,0,.4)}:host.tooltip:after{border-style:solid;content:"";position:absolute}:host.tooltip-top:after{border-color:#000 transparent transparent;border-width:5px;left:50%;margin-left:-5px;top:100%}:host.tooltip-bottom:after{border-color:transparent transparent #000;border-width:5px;bottom:100%;left:50%;margin-left:-5px}:host.tooltip-left:after{border-color:transparent transparent transparent #000;border-width:5px;left:100%;margin-top:-5px;top:50%}:host.tooltip-right:after{border-color:transparent #000 transparent transparent;border-width:5px;margin-top:-5px;right:100%;top:50%}:host.tooltip-light:after{display:none}:host.tooltip-light{background-color:#fff;border:1px solid rgba(0,0,0,.06);color:#000}:host.tooltip-light .tooltip-arrow{background-color:rgba(0,0,0,.07);height:10px;position:absolute;transform:rotate(135deg);width:10px}:host.tooltip-light .tooltip-arrow:after{background-color:#fff;content:"";display:block;height:10px;position:absolute;width:10px}:host.tooltip-top.tooltip-light{margin-top:-2px}:host.tooltip-top.tooltip-light .tooltip-arrow{background:linear-gradient(to bottom left,rgba(0,0,0,.07) 50%,transparent 0);left:50%;margin-left:-5px;margin-top:-4px;top:100%}:host.tooltip-top.tooltip-light .tooltip-arrow:after{right:1px;top:1px}:host.tooltip-bottom.tooltip-light .tooltip-arrow{background:linear-gradient(to top right,rgba(0,0,0,.1) 50%,transparent 0);bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px}:host.tooltip-bottom.tooltip-light .tooltip-arrow:after{right:-1px;top:-1px}:host.tooltip-left.tooltip-light .tooltip-arrow{background:linear-gradient(to bottom right,rgba(0,0,0,.07) 50%,transparent 0);left:100%;margin-left:-4px;margin-top:-5px;top:50%}:host.tooltip-left.tooltip-light .tooltip-arrow:after{right:-1px;top:1px}:host.tooltip-right.tooltip-light .tooltip-arrow{background:linear-gradient(to top left,rgba(0,0,0,.07) 50%,transparent 0);margin-right:-4px;margin-top:-5px;right:100%;top:50%}:host.tooltip-right.tooltip-light .tooltip-arrow:after{right:1px;top:-1px}']}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},n.propDecorators={data:[{type:e.Input}],hostStyleTop:[{type:e.HostBinding,args:["style.top"]}],hostStyleLeft:[{type:e.HostBinding,args:["style.left"]}],hostStyleZIndex:[{type:e.HostBinding,args:["style.z-index"]}],hostStyleTransition:[{type:e.HostBinding,args:["style.transition"]}],hostStyleWidth:[{type:e.HostBinding,args:["style.width"]}],hostStyleMaxWidth:[{type:e.HostBinding,args:["style.max-width"]}],hostStylePointerEvents:[{type:e.HostBinding,args:["style.pointer-events"]}],hostClassShow:[{type:e.HostBinding,args:["class.tooltip-show"]}],hostClassShadow:[{type:e.HostBinding,args:["class.tooltip-shadow"]}],hostClassLight:[{type:e.HostBinding,args:["class.tooltip-light"]}],transitionEnd:[{type:e.HostListener,args:["transitionend",["$event"]]}],show:[{type:e.Input}]};var s=new e.InjectionToken("TooltipOptions"),r={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},p={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"},a=function(){function t(t,o,i,n,s){this.initOptions=t,this.elementRef=o,this.componentFactoryResolver=i,this.appRef=n,this.injector=s,this._showDelay=0,this._hideDelay=300,this._options={},this.events=new e.EventEmitter}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){t&&r&&(this._options=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTooltipDestroyed",{get:function(){return this.componentRef&&this.componentRef.hostView.destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyDelay",{get:function(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)},set:function(t){this._destroyDelay=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this.options.position?this.options.position:this.elementPosition},enumerable:!1,configurable:!0}),t.prototype.onMouseEnter=function(){0!=this.isDisplayOnHover&&this.show()},t.prototype.onMouseLeave=function(){"hover"===this.options.trigger&&this.destroyTooltip()},t.prototype.onClick=function(){var t=this;0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout((function(){t.destroyTooltip()}),this.options.hideDelayAfterClick))},t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){this.initOptions=this.renameProperties(this.initOptions);var e=this.getProperties(t);e=this.renameProperties(e),this.applyOptionsDefault(r,e)},t.prototype.ngOnDestroy=function(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()},t.prototype.getShowDelay=function(){return this.options.showDelay},t.prototype.getHideDelay=function(){var t=this.options.hideDelay,e=this.options.hideDelayTouchscreen;return this.isTouchScreen?e:t},t.prototype.getProperties=function(t){var e={},o={};for(var i in t)"options"!==i&&"tooltipValue"!==i&&(e[i]=t[i].currentValue),"options"===i&&(o=t[i].currentValue);return Object.assign({},o,e)},t.prototype.renameProperties=function(t){for(var e in t)p[e]&&(t[p[e]]=t[e],delete t[e]);return t},t.prototype.getElementPosition=function(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()},t.prototype.createTooltip=function(){var t=this;this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout((function(){t.appendComponentToBody(n)}),this.getShowDelay()),this.showTimeoutId=window.setTimeout((function(){t.showTooltipElem()}),this.getShowDelay())},t.prototype.destroyTooltip=function(t){var e=this;void 0===t&&(t={fast:!1}),this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout((function(){e.hideTooltip()}),t.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout((function(){e.componentRef&&!e.isTooltipDestroyed&&(e.appRef.detachView(e.componentRef.hostView),e.componentRef.destroy(),e.events.emit({type:"hidden",position:e.tooltipPosition}))}),t.fast?0:this.destroyDelay))},t.prototype.showTooltipElem=function(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})},t.prototype.hideTooltip=function(){this.componentRef&&!this.isTooltipDestroyed&&(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))},t.prototype.appendComponentToBody=function(t,e){var o=this;void 0===e&&(e={}),this.componentRef=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView);var i=this.componentRef.hostView.rootNodes[0];document.body.appendChild(i),this.componentSubscribe=this.componentRef.instance.events.subscribe((function(t){o.handleEvents(t)}))},t.prototype.clearTimeouts=function(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)},Object.defineProperty(t.prototype,"isDisplayOnHover",{get:function(){return 0!=this.options.display&&((0!=this.options.displayTouchscreen||!this.isTouchScreen)&&"hover"===this.options.trigger)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayOnClick",{get:function(){return 0!=this.options.display&&((0!=this.options.displayTouchscreen||!this.isTouchScreen)&&"click"==this.options.trigger)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTouchScreen",{get:function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||function(t){return window.matchMedia(t).matches}(["(",t.join("touch-enabled),("),"heartz",")"].join(""))},enumerable:!1,configurable:!0}),t.prototype.applyOptionsDefault=function(t,e){this.options=Object.assign({},t,this.initOptions||{},e)},t.prototype.handleEvents=function(t){"shown"===t.type&&this.events.emit({type:"shown",position:this.tooltipPosition})},t.prototype.show=function(){!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem()},t.prototype.hide=function(){this.destroyTooltip()},t}();a.decorators=[{type:e.Directive,args:[{selector:"[tooltip]",exportAs:"tooltip"}]}],a.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[s]}]},{type:e.ElementRef},{type:e.ComponentFactoryResolver},{type:e.ApplicationRef},{type:e.Injector}]},a.propDecorators={options:[{type:e.Input,args:["options"]}],tooltipValue:[{type:e.Input,args:["tooltip"]}],placement:[{type:e.Input,args:["placement"]}],autoPlacement:[{type:e.Input,args:["autoPlacement"]}],contentType:[{type:e.Input,args:["content-type"]}],hideDelayMobile:[{type:e.Input,args:["hide-delay-mobile"]}],hideDelayTouchscreen:[{type:e.Input,args:["hideDelayTouchscreen"]}],zIndex:[{type:e.Input,args:["z-index"]}],animationDuration:[{type:e.Input,args:["animation-duration"]}],trigger:[{type:e.Input,args:["trigger"]}],tooltipClass:[{type:e.Input,args:["tooltip-class"]}],display:[{type:e.Input,args:["display"]}],displayMobile:[{type:e.Input,args:["display-mobile"]}],displayTouchscreen:[{type:e.Input,args:["displayTouchscreen"]}],shadow:[{type:e.Input,args:["shadow"]}],theme:[{type:e.Input,args:["theme"]}],offset:[{type:e.Input,args:["offset"]}],width:[{type:e.Input,args:["width"]}],maxWidth:[{type:e.Input,args:["max-width"]}],id:[{type:e.Input,args:["id"]}],showDelay:[{type:e.Input,args:["show-delay"]}],hideDelay:[{type:e.Input,args:["hide-delay"]}],hideDelayAfterClick:[{type:e.Input,args:["hideDelayAfterClick"]}],pointerEvents:[{type:e.Input,args:["pointerEvents"]}],position:[{type:e.Input,args:["position"]}],events:[{type:e.Output}],onMouseEnter:[{type:e.HostListener,args:["focusin"]},{type:e.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:e.HostListener,args:["focusout"]},{type:e.HostListener,args:["mouseleave"]}],onClick:[{type:e.HostListener,args:["click"]}]};var l=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:s,useValue:e}]}},t}();l.decorators=[{type:e.NgModule,args:[{declarations:[a,n],imports:[o.CommonModule],exports:[a],entryComponents:[n]}]}],t.TooltipComponent=n,t.TooltipDirective=a,t.TooltipModule=l,t.ɵa=s,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng2-tooltip-directive.umd.min.js.map